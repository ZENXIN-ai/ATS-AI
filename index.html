<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AstraCoin (AST) - Base Network</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #888;
            font-size: 1.2rem;
        }
        
        .status-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .status-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .status {
            padding: 12px 20px;
            border-radius: 10px;
            margin: 10px 0;
            font-weight: bold;
            text-align: center;
        }
        
        .success {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: #000;
        }
        
        .warning {
            background: linear-gradient(45deg, #fdcb6e, #e17055);
            color: #000;
        }
        
        .error {
            background: linear-gradient(45deg, #ff7675, #d63031);
            color: #fff;
        }
        
        .info {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: #fff;
        }
        
        .proposal-interface {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 40px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #00ff88;
            font-weight: bold;
        }
        
        input, textarea {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        input:focus, textarea:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }
        
        button {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            color: #000;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 255, 136, 0.4);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .analysis-result {
            margin-top: 30px;
        }
        
        .proposal-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #00ff88;
        }
        
        .proposal-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #00ff88;
        }
        
        .proposal-meta {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #888;
        }
        
        .metric {
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 10px;
            border-radius: 5px;
        }
        
        .contract-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .contract-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .contract-label {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 5px;
        }
        
        .contract-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: #00ff88;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
        }
        
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #00ff88;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .status-container {
                grid-template-columns: 1fr;
            }
            
            .header {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <div class="logo">ğŸš€</div>
            <h1>AstraCoin (AST)</h1>
            <div class="subtitle">Base Network - AI æ²»ç†å¹³å°</div>
        </div>

        <!-- çŠ¶æ€å®¹å™¨ -->
        <div class="status-container">
            <div class="status-card">
                <h3>ğŸ”§ ç³»ç»ŸçŠ¶æ€</h3>
                <div id="system-status" class="status warning">æ£€æŸ¥ä¸­...</div>
                <div id="zilliz-status" class="status info">Zilliz çŠ¶æ€: æ£€æŸ¥ä¸­...</div>
            </div>
            
            <div class="status-card">
                <h3>ğŸ“Š åˆçº¦ä¿¡æ¯</h3>
                <div class="contract-info">
                    <div class="contract-item">
                        <div class="contract-label">ç½‘ç»œ</div>
                        <div class="contract-value" id="network">Base</div>
                    </div>
                    <div class="contract-item">
                        <div class="contract-label">ä»£å¸</div>
                        <div class="contract-value" id="symbol">AST</div>
                    </div>
                    <div class="contract-item">
                        <div class="contract-label">æ€»ä¾›åº”é‡</div>
                        <div class="contract-value" id="supply">10äº¿</div>
                    </div>
                </div>
                <div class="contract-item" style="grid-column: 1 / -1; margin-top: 15px;">
                    <div class="contract-label">åˆçº¦åœ°å€</div>
                    <div class="contract-value" id="contract-address" style="font-size: 0.9rem; word-break: break-all;">
                        0xe6b1e7300E83B8567600ad58D8F9f297A5FCBCBE
                    </div>
                </div>
            </div>
        </div>

        <!-- ææ¡ˆåˆ†æç•Œé¢ -->
        <div class="proposal-interface">
            <h2>ğŸ“‹ AI ææ¡ˆåˆ†æ</h2>
            <p style="margin-bottom: 20px; color: #888;">ä½¿ç”¨ AI åˆ†ææ‚¨çš„æ²»ç†ææ¡ˆï¼Œå‘ç°ç›¸ä¼¼ææ¡ˆå¹¶è¯„ä¼°é£é™©</p>
            
            <form id="proposal-form">
                <div class="form-group">
                    <label for="proposal-title">ææ¡ˆæ ‡é¢˜</label>
                    <input type="text" id="proposal-title" placeholder="ä¾‹å¦‚ï¼šæ”¹è¿›ä»£å¸ç»æµæ¨¡å‹" required>
                </div>
                
                <div class="form-group">
                    <label for="proposal-text">ææ¡ˆå†…å®¹</label>
                    <textarea id="proposal-text" rows="6" placeholder="è¯¦ç»†æè¿°æ‚¨çš„ææ¡ˆå†…å®¹ã€ç›®æ ‡å’Œé¢„æœŸå½±å“..." required></textarea>
                </div>
                
                <button type="submit" id="analyze-btn">
                    ğŸ¤– å¼€å§‹ AI åˆ†æ
                </button>
            </form>
            
            <div id="analysis-result" class="analysis-result"></div>
        </div>
    </div>

    <script>
        // ===== AstraCoin æ²»ç†å¹³å° =====
        class AstraGovernancePlatform {
            constructor() {
                this.contractInfo = {
                    address: "0xe6b1e7300E83B8567600ad58D8F9f297A5FCBCBE",
                    network: "Base",
                    symbol: "AST",
                    name: "AstraCoin",
                    supply: "1,000,000,000"
                };
                
                this.initializePlatform();
            }
            
            initializePlatform() {
                this.updateContractInfo();
                this.checkSystemStatus();
                this.setupEventListeners();
            }
            
            updateContractInfo() {
                document.getElementById('network').textContent = this.contractInfo.network;
                document.getElementById('symbol').textContent = this.contractInfo.symbol;
                document.getElementById('supply').textContent = this.formatNumber(this.contractInfo.supply);
                document.getElementById('contract-address').textContent = this.contractInfo.address;
            }
            
            formatNumber(num) {
                return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }
            
            async checkSystemStatus() {
                const statusElement = document.getElementById('system-status');
                const zillizElement = document.getElementById('zilliz-status');
                
                try {
                    // æ¨¡æ‹Ÿç³»ç»Ÿæ£€æŸ¥
                    await this.delay(1000);
                    
                    statusElement.className = 'status success';
                    statusElement.innerHTML = 'âœ… ç³»ç»Ÿè¿è¡Œæ­£å¸¸';
                    
                    zillizElement.className = 'status warning';
                    zillizElement.innerHTML = 'ğŸ¤– Zilliz: æ¨¡æ‹Ÿæ¨¡å¼ - ä½¿ç”¨ AI åˆ†æå¼•æ“';
                    
                } catch (error) {
                    statusElement.className = 'status error';
                    statusElement.innerHTML = 'âŒ ç³»ç»Ÿæ£€æŸ¥å¤±è´¥';
                }
            }
            
            setupEventListeners() {
                const form = document.getElementById('proposal-form');
                form.addEventListener('submit', (e) => this.handleProposalAnalysis(e));
            }
            
            async handleProposalAnalysis(e) {
                e.preventDefault();
                
                const title = document.getElementById('proposal-title').value.trim();
                const text = document.getElementById('proposal-text').value.trim();
                const button = document.getElementById('analyze-btn');
                
                if (!title || !text) {
                    this.showError('è¯·å¡«å†™ææ¡ˆæ ‡é¢˜å’Œå†…å®¹');
                    return;
                }
                
                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                button.disabled = true;
                button.innerHTML = 'ğŸ”„ AI åˆ†æä¸­...';
                
                try {
                    const result = await this.analyzeProposal(title, text);
                    this.displayAnalysisResult(result);
                } catch (error) {
                    this.showError('åˆ†æå¤±è´¥: ' + error.message);
                } finally {
                    // æ¢å¤æŒ‰é’®çŠ¶æ€
                    button.disabled = false;
                    button.innerHTML = 'ğŸ¤– å¼€å§‹ AI åˆ†æ';
                }
            }
            
            async analyzeProposal(title, text) {
                // æ¨¡æ‹Ÿ API è°ƒç”¨å»¶è¿Ÿ
                await this.delay(2000);
                
                const content = (title + ' ' + text).toLowerCase();
                
                // æ™ºèƒ½åˆ†ç±»
                let recommendedCategory = "general";
                if (this.containsAny(content, ['ä»£å¸', 'token', 'ç»æµ', 'å‘è¡Œ', 'é€šèƒ€', 'å¥–åŠ±'])) {
                    recommendedCategory = "tokenomics";
                } else if (this.containsAny(content, ['æ²»ç†', 'æŠ•ç¥¨', 'ææ¡ˆ', 'dao', 'å†³ç­–', 'æµç¨‹'])) {
                    recommendedCategory = "governance";
                } else if (this.containsAny(content, ['æŠ€æœ¯', 'å¼€å‘', 'ä»£ç ', 'æ™ºèƒ½åˆçº¦', 'å®‰å…¨', 'å‡çº§'])) {
                    recommendedCategory = "technical";
                } else if (this.containsAny(content, ['å¸‚åœº', 'è¥é”€', 'æ¨å¹¿', 'å“ç‰Œ', 'åˆä½œ', 'ä¸Šå¸‚'])) {
                    recommendedCategory = "marketing";
                }
                
                // é£é™©è¯„ä¼°
                const riskLevel = this.containsAny(content, ['ç´§æ€¥', 'å±é™©', 'é‡å¤§å˜æ›´', 'åˆ†å‰', 'åœæ­¢', 'æ¼æ´']) ? "high" : "low";
                
                // ç”Ÿæˆç›¸ä¼¼ææ¡ˆ
                const similarProposals = this.generateSimilarProposals(title, recommendedCategory);
                
                return {
                    similar_proposals: similarProposals,
                    total_similar: similarProposals.length,
                    recommended_category: recommendedCategory,
                    risk_level: riskLevel,
                    analysis_id: `analysis_${Date.now()}`,
                    timestamp: new Date().toISOString(),
                    zilliz_connected: false,
                    is_mock_data: true,
                    mode: "ai_simulation"
                };
            }
            
            containsAny(text, keywords) {
                return keywords.some(keyword => text.includes(keyword));
            }
            
            generateSimilarProposals(currentTitle, category) {
                const proposals = {
                    tokenomics: [
                        {
                            title: "æ”¹è¿›ä»£å¸ç»æµæ¨¡å‹",
                            description: "å»ºè®®è°ƒæ•´ä»£å¸åˆ†é…æ¯”ä¾‹ï¼Œå¢åŠ ç¤¾åŒºå¥–åŠ±å’ŒæµåŠ¨æ€§æŒ–çŸ¿æ¿€åŠ±",
                            category: "tokenomics",
                            status: "approved",
                            votes: 1245,
                            similarity: 0.87,
                            id: "token_001"
                        },
                        {
                            title: "é€šç¼©æœºåˆ¶ä¼˜åŒ–æ–¹æ¡ˆ",
                            description: "å¼•å…¥ä»£å¸é”€æ¯æœºåˆ¶ï¼Œæ¯ç¬”äº¤æ˜“æ”¶å–1%æ‰‹ç»­è´¹ç”¨äºå›è´­é”€æ¯",
                            category: "tokenomics", 
                            status: "implemented",
                            votes: 892,
                            similarity: 0.72,
                            id: "token_002"
                        }
                    ],
                    governance: [
                        {
                            title: "DAOæ²»ç†æµç¨‹ä¼˜åŒ–",
                            description: "ç®€åŒ–æŠ•ç¥¨æµç¨‹ï¼Œé™ä½å‚ä¸é—¨æ§›ï¼Œæé«˜ç¤¾åŒºæ²»ç†æ•ˆç‡",
                            category: "governance",
                            status: "pending",
                            votes: 567,
                            similarity: 0.81,
                            id: "gov_001"
                        },
                        {
                            title: "æ²»ç†ä»£å¸è´¨æŠ¼å¥–åŠ±",
                            description: "ä¸ºå‚ä¸æ²»ç†æŠ•ç¥¨çš„ç”¨æˆ·æä¾›é¢å¤–çš„ä»£å¸è´¨æŠ¼å¥–åŠ±",
                            category: "governance",
                            status: "approved", 
                            votes: 1103,
                            similarity: 0.68,
                            id: "gov_002"
                        }
                    ],
                    technical: [
                        {
                            title: "æ™ºèƒ½åˆçº¦å®‰å…¨å‡çº§",
                            description: "è¿›è¡Œå…¨é¢çš„å®‰å…¨å®¡è®¡å¹¶å‡çº§æ ¸å¿ƒæ™ºèƒ½åˆçº¦",
                            category: "technical",
                            status: "implemented",
                            votes: 934,
                            similarity: 0.79,
                            id: "tech_001"
                        }
                    ],
                    marketing: [
                        {
                            title: "å…¨çƒå¸‚åœºæ¨å¹¿è®¡åˆ’", 
                            description: "å¯åŠ¨äºšæ´²å’Œæ¬§æ´²å¸‚åœºæ¨å¹¿ï¼Œä¸ä¸»æµäº¤æ˜“æ‰€åˆä½œä¸Šçº¿",
                            category: "marketing",
                            status: "approved",
                            votes: 756,
                            similarity: 0.65,
                            id: "mkt_001"
                        }
                    ],
                    general: [
                        {
                            title: "ç¤¾åŒºå»ºè®¾åŸºé‡‘",
                            description: "è®¾ç«‹ä¸“é¡¹åŸºé‡‘ç”¨äºç¤¾åŒºæ´»åŠ¨å’Œå¼€å‘è€…æ¿€åŠ±",
                            category: "general",
                            status: "pending",
                            votes: 432,
                            similarity: 0.58,
                            id: "gen_001"
                        }
                    ]
                };
                
                return proposals[category] || proposals.general;
            }
            
            displayAnalysisResult(result) {
                const resultDiv = document.getElementById('analysis-result');
                
                let html = `
                    <div class="status ${result.is_mock_data ? 'warning' : 'success'}">
                        ${result.is_mock_data ? 'ğŸ¤– AI æ¨¡æ‹Ÿåˆ†æ' : 'âœ… å®æ—¶åˆ†æ'} | 
                        åˆ†æID: ${result.analysis_id} |
                        é£é™©ç­‰çº§: <span style="color: ${result.risk_level === 'high' ? '#ff6b6b' : '#00ff88'}">${result.risk_level === 'high' ? 'é«˜é£é™©' : 'ä½é£é™©'}</span>
                    </div>
                    
                    <div style="margin: 20px 0; padding: 20px; background: rgba(0, 255, 136, 0.1); border-radius: 10px; border-left: 4px solid #00ff88;">
                        <h3 style="color: #00ff88; margin-bottom: 10px;">ğŸ¯ æ¨èåˆ†ç±»: ${this.getCategoryName(result.recommended_category)}</h3>
                        <p>åŸºäº AI åˆ†æï¼Œæ‚¨çš„ææ¡ˆæœ€é€‚åˆ <strong>${this.getCategoryName(result.recommended_category)}</strong> åˆ†ç±»</p>
                    </div>
                    
                    <h3 style="margin: 25px 0 15px 0;">ğŸ“ˆ ç›¸ä¼¼ææ¡ˆ (${result.total_similar}ä¸ª)</h3>
                `;
                
                if (result.similar_proposals && result.similar_proposals.length > 0) {
                    result.similar_proposals.forEach(proposal => {
                        html += `
                            <div class="proposal-item">
                                <div class="proposal-title">${proposal.title}</div>
                                <div style="color: #ccc; margin-bottom: 10px;">${proposal.description}</div>
                                <div class="proposal-meta">
                                    <span class="metric">åˆ†ç±»: ${this.getCategoryName(proposal.category)}</span>
                                    <span class="metric">çŠ¶æ€: ${this.getStatusName(proposal.status)}</span>
                                    <span class="metric">æŠ•ç¥¨: ${proposal.votes}</span>
                                    <span class="metric">ç›¸ä¼¼åº¦: ${(proposal.similarity * 100).toFixed(1)}%</span>
                                </div>
                            </div>
                        `;
                    });
                } else {
                    html += `
                        <div style="text-align: center; padding: 40px; color: #888;">
                            <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ”</div>
                            <h3>æœªæ‰¾åˆ°ç›¸ä¼¼ææ¡ˆ</h3>
                            <p>è¿™å¯èƒ½æ˜¯å…¨æ–°çš„ææ¡ˆç±»å‹ï¼</p>
                        </div>
                    `;
                }
                
                // æ·»åŠ å»ºè®®
                html += `
                    <div style="margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 10px;">
                        <h4 style="color: #00ff88; margin-bottom: 10px;">ğŸ’¡ AI å»ºè®®</h4>
                        <p>${this.getAdvice(result.recommended_category, result.risk_level)}</p>
                    </div>
                `;
                
                resultDiv.innerHTML = html;
            }
            
            getCategoryName(category) {
                const names = {
                    tokenomics: "ä»£å¸ç»æµ",
                    governance: "æ²»ç†æœºåˆ¶", 
                    technical: "æŠ€æœ¯å¼€å‘",
                    marketing: "å¸‚åœºæ¨å¹¿",
                    general: "ç»¼åˆææ¡ˆ"
                };
                return names[category] || category;
            }
            
            getStatusName(status) {
                const names = {
                    pending: "æŠ•ç¥¨ä¸­",
                    approved: "å·²é€šè¿‡",
                    rejected: "æœªé€šè¿‡", 
                    implemented: "å·²å®æ–½"
                };
                return names[status] || status;
            }
            
            getAdvice(category, riskLevel) {
                const advice = {
                    tokenomics: "ä»£å¸ç»æµææ¡ˆéœ€è¦è¯¦ç»†çš„ç»æµæ¨¡å‹è®¾è®¡å’Œç¤¾åŒºå¹¿æ³›è®¨è®ºã€‚å»ºè®®æä¾›å…·ä½“çš„æ•°å­—å’Œå½±å“åˆ†æã€‚",
                    governance: "æ²»ç†æœºåˆ¶å˜æ›´ä¼šå½±å“æ•´ä¸ªç¤¾åŒºå‚ä¸æ–¹å¼ã€‚å»ºè®®åˆ†é˜¶æ®µå®æ–½å¹¶æ”¶é›†ç¤¾åŒºåé¦ˆã€‚",
                    technical: "æŠ€æœ¯å¼€å‘ææ¡ˆéœ€è¦æ˜ç¡®çš„æŠ€æœ¯è§„æ ¼å’Œæµ‹è¯•è®¡åˆ’ã€‚å»ºè®®å…ˆè¿›è¡Œæµ‹è¯•ç½‘éƒ¨ç½²ã€‚",
                    marketing: "å¸‚åœºæ¨å¹¿ææ¡ˆéœ€è¦å…·ä½“çš„æ‰§è¡Œè®¡åˆ’å’Œé¢„ç®—åˆ†é…ã€‚å»ºè®®è®¾å®šæ˜ç¡®çš„KPIæŒ‡æ ‡ã€‚",
                    general: "ç»¼åˆææ¡ˆéœ€è¦æ¸…æ™°çš„æ‰§è¡Œè·¯å¾„å’Œèµ„æºåˆ†é…ã€‚å»ºè®®è®¾ç«‹ä¸“é—¨çš„å·¥ä½œå°ç»„ã€‚"
                };
                
                let riskAdvice = riskLevel === 'high' 
                    ? "è¿™æ˜¯ä¸€ä¸ªé«˜é£é™©ææ¡ˆï¼Œå»ºè®®è¿›è¡Œæ›´è¯¦ç»†çš„è®ºè¯å’Œç¤¾åŒºè®¨è®ºã€‚" 
                    : "é£é™©å¯æ§ï¼Œå¯ä»¥æŒ‰è®¡åˆ’æ¨è¿›ã€‚";
                
                return (advice[category] || advice.general) + " " + riskAdvice;
            }
            
            showError(message) {
                const resultDiv = document.getElementById('analysis-result');
                resultDiv.innerHTML = `<div class="status error">âŒ ${message}</div>`;
            }
            
            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // ===== é¡µé¢åˆå§‹åŒ– =====
        document.addEventListener('DOMContentLoaded', () => {
            window.astraPlatform = new AstraGovernancePlatform();
        });
    </script>
</body>
</html>